<div
  id="header-bg"
  [@toggleBackground]="headerState"
></div>
<div
  id="uva-header"
  [@toggleHide]="headerState"
  fxLayout="row"
  fxLayoutAlign="center center"
>
  <div
    class="uva-logo"
    fxFlex
  ><a
      href="https://curry.virginia.edu/faculty-research/centers-labs-projects/supporting-transformative-autism-research-star"><img
        src="/assets/logo/UVA_STAR-logo.svg"
      ></a></div>
  <span
    fxFlex
    fxShow.md="false"
  ></span>
  <div
    id="uva-links"
    fxFlex
    *ngIf="!mobileQuery.matches"
  >
    <ul>
      <li><a href="https://curry.virginia.edu/faculty-research/centers-labs-projects/star/people">People</a></li>
      <li><a
          href="https://curry.virginia.edu/faculty-research/centers-labs-projects/star/research-projects">Research</a>
      </li>
      <li><a href="https://curry.virginia.edu/news-0">News</a></li>
      <li><a [routerLink]="[ '/' ]" routerLinkActive="selected">Registry</a></li>
    </ul>
  </div>
</div>
<div
  id="site-header"
  fxLayout="row"
  fxLayoutAlign="center center"
  [@toggleDock]="headerState"
>
  <mat-toolbar>
    <mat-toolbar-row
      id="menu-bar"
      fxLayout="row"
    >
      <app-logo variant="light"></app-logo>
      <div
        id="primary-nav"
        *ngIf="!mobileQuery.matches"
      >
        <a
          mat-button
          [routerLink]="[ '/enroll' ]"
          routerLinkActive="selected"
          id="enroll-button"
        >
        <span fxHide fxShow.lt-lg>Join</span>
        <span fxHide fxShow.gt-md>Join the Autism Registry</span>
      </a>
        <a
          mat-button
          [routerLink]="[ '/studies' ]"
          routerLinkActive="selected"
          id="studies-button"
        >
        <span fxHide fxShow.lt-lg>Studies</span>
        <span fxHide fxShow.gt-md>Current Studies</span>
      </a>
        <a
          mat-button
          [routerLink]="[ '/search' ]"
          routerLinkActive="selected"
          id="resources-button"
        >Training & Resources</a>
      </div>

      <span fxFlex></span>

      <div
        id="utility-nav"
        fxHide fxShow.gt-sm
      >
        <app-search-box variant="dark-bg"></app-search-box>

        <a
          mat-button
          *ngIf="!currentUser"
          [routerLink]="[ '/register' ]"
          routerLinkActive="selected"
          id="register-button"
        >
          <mat-icon>person_add</mat-icon>
          <span fxHide fxShow.gt-md>Create Account</span>
        </a>
        <a
          mat-button
          *ngIf="!currentUser"
          [routerLink]="[ '/login' ]"
          routerLinkActive="selected"
          id="login-button"
        >
          <mat-icon>account_circle</mat-icon>
          <span fxHide fxShow.gt-md>Sign in</span>
        </a>
        <a
          mat-button
          *ngIf="currentUser && currentUser.role == 'admin'"
          [routerLink]="[ '/admin' ]"
          routerLinkActive="selected"
          id="admin-button"
        >
          <mat-icon>build</mat-icon>
          Admin
        </a>
        <a
          mat-button
          *ngIf="currentUser"
          [routerLink]="[ '/profile' ]"
          routerLinkActive="selected"
          id="profile-button"
        >
          <mat-icon>account_circle</mat-icon>
          Visit Profile
        </a>
        <a
          mat-button
          *ngIf="currentUser"
          (click)="goLogout($event)"
          id="logout-button"
        >
          <mat-icon>exit_to_app</mat-icon>
          Logout
        </a>
      </div>
      <button
        mat-button
        (click)="toggleMenu()"
        fxHide fxShow.lt-md
        [color]="menuVisible ? '' : 'accent'"
      >
        <mat-icon>menu</mat-icon>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>
</div>
<div
  id="mobile-menu"
  fxHide fxShow.lt-md
  [@toggleMobileMenu]="menuState"
  class="mat-typography"
>
  <app-search-box variant="dark-bg"></app-search-box>
  <a
    mat-button
    *ngIf="!currentUser"
    [routerLink]="[ '/register' ]"
    routerLinkActive="selected"
    id="register-button-mobile"
    (click)="toggleMenu()"
  >
    <mat-icon>person_add</mat-icon>
    Create Account
  </a>
  <a
    mat-button
    *ngIf="!currentUser"
    [routerLink]="[ '/login' ]"
    routerLinkActive="selected"
    id="login-button-mobile"
    (click)="toggleMenu()"
  >
    <mat-icon>account_circle</mat-icon>
    Sign in
  </a>
  <a
    mat-button
    *ngIf="currentUser && currentUser.role == 'admin'"
    [routerLink]="[ '/admin' ]"
    routerLinkActive="selected"
    id="admin-button-mobile"
    (click)="toggleMenu()"
  >
    <mat-icon>build</mat-icon>
    Admin
  </a>
  <a
    mat-button
    *ngIf="currentUser"
    [routerLink]="[ '/profile' ]"
    routerLinkActive="selected"
    id="profile-button-mobile"
    (click)="toggleMenu()"
  >
    <mat-icon>account_circle</mat-icon>
    Visit Profile
  </a>
  <a
    mat-button
    *ngIf="currentUser"
    (click)="goLogout($event)"
    id="logout-button-mobile"
    (click)="toggleMenu()"
  >
    <mat-icon>exit_to_app</mat-icon>
    Logout
  </a>
  <a
    mat-button
    [routerLink]="[ '/enroll' ]"
    routerLinkActive="selected"
    id="enroll-button-mobile"
    (click)="toggleMenu()"
  >Join the Autism Registry</a>
  <a
    mat-button
    [routerLink]="[ '/studies' ]"
    routerLinkActive="selected"
    id="studies-button-mobile"
    (click)="toggleMenu()"
  >Current studies</a>
  <a
    mat-button
    [routerLink]="[ '/resources' ]"
    routerLinkActive="selected"
    id="resources-button-mobile"
    (click)="toggleMenu()"
  >Training & Resources</a>
</div>
