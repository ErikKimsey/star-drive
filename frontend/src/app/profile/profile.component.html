<div
  *ngIf="user"
  class="profile mat-typography"
>

  <div *ngIf="state === possibleStates.NO_PARTICIPANT">
    <h1>Welcome!</h1>
    <p>Thank you for creating an account on Star Drive! Please complete the following fields, and select
      the button that most closely applies to your situation.</p>
    <button
      mat-flat-button
      color="primary"
      (click)="enrollSelf($event)"
      id="enroll_self"
    >Enroll Yourself as a person with Autism</button>
    <p>
      Select this button if you are primarily looking for resources, or studies for yourself.
    </p>
    <button
      mat-flat-button
      color="primary"
      (click)="enrollGuardian($event)"
      id="enroll_guardian"
    >Enroll a Dependent</button>
    <p>
      Select this button if you are looking for resources and studies for your child or a legal dependent.
    </p>
    <button
      mat-flat-button
      color="primary"
      (click)="enrollProfessional($event)"
      id="enroll_professional"
    >Enroll Yourself as a Professional</button>
    <p>
      Select this button if you are a professional primarily looking for resources, or studies for yourself.
    </p>
  </div>

  <div *ngIf="state !== possibleStates.NO_PARTICIPANT">
    <h1>Your STAR DRIVE Profile</h1>
    <div>
      <p>Once your profile is complete, youâ€™ll be able to enroll in any relevant currently-running studies.</p>

      <app-loading
        *ngIf="loading"
        message="Loading..."
      ></app-loading>

      <div
        *ngIf="!loading"
        fxLayout="row"
        fxLayoutGap="40px"
      >
        <div
          fxFlex="60%"
          fxLayout="column"
          fxLayoutGap="40px"
        >
          <app-participant-profile
            *ngFor="let participant of user.participants"
            [participant]="participant"
            [user]="user"
            id="participant_{{participant.id}}"
          ></app-participant-profile>

          <!-- <button
            *ngIf="!user.getSelf()"
            mat-flat-button
            color="primary"
            (click)="enrollSelf($event)"
            id="edit_enroll_guardian"
          >Enroll yourself</button> -->

          <button
            *ngIf="user.getSelf() && user.getDependents().length === 0"
            mat-flat-button
            color="primary"
            (click)="enrollDependent($event)"
            id="enroll_first_dependent"
          >Enroll a dependent</button>

          <button
            *ngIf="user.getDependents().length > 0"
            mat-flat-button
            color="primary"
            (click)="enrollDependent($event)"
            id="enroll_another_dependent"
          >Enroll another dependent</button>
        </div>
        <div fxFlex="40%">
          [List of studies here]
        </div>
      </div>

    </div>
  </div>

</div>
